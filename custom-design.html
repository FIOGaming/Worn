<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Créer un Design — QUARSOE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>
<body>
    <!-- Removed "Design Custom" and "Admin" buttons from header navigation -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">QUARSOE</a>
            <nav class="header-nav">
                <a href="index.html" class="nav-link">Boutique</a>
            </nav>
        </div>
    </header>

    <main class="main" style="padding-top: 6rem;">
        <div class="container">
            <section class="custom-design-hero">
                <div class="custom-hero-content">
                    <span class="section-label">Exprimez-vous</span>
                    <h1 class="section-title" style="font-size: 3.5rem; margin-bottom: 1rem;">Créez Votre Design Unique</h1>
                    <p style="font-size: 1.125rem; color: var(--gray-600); max-width: 600px; margin: 0 auto;">Choisissez un vêtement, envoyez votre design, et nous le créerons pour vous. Chaque pièce est unique et fabriquée sur mesure.</p>
                </div>
            </section>

            <section class="custom-design-section">
                <div class="custom-layout">
<div class="custom-preview">
                        <div class="preview-card preview-card-premium">
                            <div class="preview-header">
                                <div class="preview-header-left">
                                    <span class="preview-badge">Apercu en direct</span>
                                    <h3>Votre Creation</h3>
                                </div>
                                <div class="preview-controls">
                                    <button type="button" class="preview-view-btn active" data-view="front" onclick="setPreviewView('front')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                                        </svg>
                                        Face
                                    </button>
                                    <button type="button" class="preview-view-btn" data-view="back" onclick="setPreviewView('back')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                                            <line x1="9" y1="3" x2="9" y2="21"/>
                                        </svg>
                                        Dos
                                    </button>
                                </div>
                            </div>
                            <div class="preview-stage">
                                <div class="preview-background">
                                    <div class="preview-grid"></div>
                                </div>
                                <div id="previewArea" class="preview-area-3d">
                                    <div class="preview-placeholder">
                                        <div class="preview-placeholder-icon">
                                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                                <path d="M20.38 3.46L16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"/>
                                            </svg>
                                        </div>
                                        <p class="preview-placeholder-title">Visualisez votre creation</p>
                                        <p class="preview-placeholder-text">Selectionnez un vetement et une couleur pour voir l'apercu</p>
                                    </div>
                                </div>
                                <div id="designOverlay" class="design-overlay"></div>
                            </div>
                            <div class="preview-info-bar">
                                <div class="preview-info-item" id="previewGarmentInfo">
                                    <span class="info-label">Vetement</span>
                                    <span class="info-value">-</span>
                                </div>
                                <div class="preview-info-item" id="previewColorInfo">
                                    <span class="info-label">Couleur</span>
                                    <span class="info-value">-</span>
                                </div>
                                <div class="preview-info-item" id="previewDesignInfo">
                                    <span class="info-label">Design</span>
                                    <span class="info-value">Non ajoute</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="custom-form-section">
                        <form id="customDesignForm" class="custom-form">
                            <div class="form-step active" data-step="1">
                                <h2 class="form-step-title">Étape 1: Choisissez votre vêtement</h2>
                                
<!-- Updated garment types to T-shirt, Sweat, Pantalon -->
                                <div class="form-group">
                                    <label>Type de vetement *</label>
                                    <div class="garment-grid">
                                        <div class="garment-option" data-garment="t-shirt" onclick="selectGarment('t-shirt', 'T-Shirt')">
                                            <div class="garment-icon">
                                                <svg viewBox="0 0 100 100" width="64" height="64">
                                                    <defs>
                                                        <linearGradient id="tshirtGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                            <stop offset="0%" style="stop-color:#f8fafc"/>
                                                            <stop offset="100%" style="stop-color:#e2e8f0"/>
                                                        </linearGradient>
                                                    </defs>
                                                    <!-- T-shirt shape -->
                                                    <path d="M20 25 L5 35 L5 48 L20 42 L20 90 L80 90 L80 42 L95 48 L95 35 L80 25 L65 25 C62 18 50 15 50 15 C50 15 38 18 35 25 Z" 
                                                          fill="url(#tshirtGrad)" stroke="#94a3b8" stroke-width="2" stroke-linejoin="round"/>
                                                    <!-- Collar -->
                                                    <ellipse cx="50" cy="24" rx="15" ry="6" fill="none" stroke="#94a3b8" stroke-width="2"/>
                                                    <!-- Sleeve lines -->
                                                    <path d="M20 42 L5 48" stroke="#cbd5e1" stroke-width="1.5"/>
                                                    <path d="M80 42 L95 48" stroke="#cbd5e1" stroke-width="1.5"/>
                                                    <!-- Bottom hem -->
                                                    <path d="M20 90 L80 90" stroke="#94a3b8" stroke-width="2"/>
                                                </svg>
                                            </div>
                                            <span class="garment-name">T-Shirt</span>
                                        </div>
                                        <div class="garment-option" data-garment="sweat" onclick="selectGarment('sweat', 'Sweat')">
                                            <div class="garment-icon">
                                                <svg viewBox="0 0 100 100" width="64" height="64">
                                                    <defs>
                                                        <linearGradient id="sweatGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                            <stop offset="0%" style="stop-color:#f8fafc"/>
                                                            <stop offset="100%" style="stop-color:#e2e8f0"/>
                                                        </linearGradient>
                                                    </defs>
                                                    <!-- Sweat body with hood -->
                                                    <path d="M18 28 L2 38 L2 58 L18 52 L18 92 L82 92 L82 52 L98 58 L98 38 L82 28 L65 28 C62 20 50 16 50 16 C50 16 38 20 35 28 Z" 
                                                          fill="url(#sweatGrad)" stroke="#94a3b8" stroke-width="2" stroke-linejoin="round"/>
                                                    <!-- Hood detail -->
                                                    <path d="M35 28 C38 20 50 16 50 16 C50 16 62 20 65 28" fill="none" stroke="#94a3b8" stroke-width="2"/>
                                                    <!-- Hood strings -->
                                                    <line x1="42" y1="32" x2="42" y2="48" stroke="#94a3b8" stroke-width="1.5"/>
                                                    <line x1="58" y1="32" x2="58" y2="48" stroke="#94a3b8" stroke-width="1.5"/>
                                                    <!-- Kangaroo pocket -->
                                                    <path d="M30 65 Q50 70 70 65 L70 80 Q50 85 30 80 Z" fill="none" stroke="#94a3b8" stroke-width="1.5"/>
                                                    <!-- Cuffs -->
                                                    <rect x="2" y="52" width="16" height="6" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                    <rect x="82" y="52" width="16" height="6" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                    <!-- Bottom ribbing -->
                                                    <rect x="18" y="86" width="64" height="6" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                </svg>
                                            </div>
                                            <span class="garment-name">Sweat</span>
                                        </div>
                                        <div class="garment-option" data-garment="pantalon" onclick="selectGarment('pantalon', 'Pantalon')">
                                            <div class="garment-icon">
                                                <svg viewBox="0 0 80 100" width="56" height="70">
                                                    <defs>
                                                        <linearGradient id="pantsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                            <stop offset="0%" style="stop-color:#f8fafc"/>
                                                            <stop offset="100%" style="stop-color:#e2e8f0"/>
                                                        </linearGradient>
                                                    </defs>
                                                    <!-- Waistband -->
                                                    <rect x="8" y="5" width="64" height="10" rx="2" fill="url(#pantsGrad)" stroke="#94a3b8" stroke-width="2"/>
                                                    <!-- Belt loops -->
                                                    <rect x="18" y="3" width="4" height="14" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                    <rect x="38" y="3" width="4" height="14" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                    <rect x="58" y="3" width="4" height="14" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
                                                    <!-- Left leg -->
                                                    <path d="M8 15 L12 95 L35 95 L40 55 L40 15 Z" fill="url(#pantsGrad)" stroke="#94a3b8" stroke-width="2" stroke-linejoin="round"/>
                                                    <!-- Right leg -->
                                                    <path d="M40 15 L40 55 L45 95 L68 95 L72 15 Z" fill="url(#pantsGrad)" stroke="#94a3b8" stroke-width="2" stroke-linejoin="round"/>
                                                    <!-- Fly -->
                                                    <line x1="40" y1="15" x2="40" y2="45" stroke="#94a3b8" stroke-width="1.5"/>
                                                    <!-- Left pocket -->
                                                    <path d="M12 18 L12 35 L28 38 L30 18" fill="none" stroke="#94a3b8" stroke-width="1.5"/>
                                                    <!-- Right pocket -->
                                                    <path d="M68 18 L68 35 L52 38 L50 18" fill="none" stroke="#94a3b8" stroke-width="1.5"/>
                                                </svg>
                                            </div>
                                            <span class="garment-name">Pantalon</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="selectedGarment" required>
                                </div>

                                <div class="form-group">
                                    <label for="garmentSize">Taille *</label>
                                    <select id="garmentSize" class="form-input" required>
                                        <option value="">Sélectionnez une taille</option>
                                        <option value="XS">XS</option>
                                        <option value="S">S</option>
                                        <option value="M">M</option>
                                        <option value="L">L</option>
                                        <option value="XL">XL</option>
                                        <option value="XXL">XXL</option>
                                    </select>
                                </div>

                                <br><div class="form-group">
                                    <label>Couleur du vêtement *</label>
                                    <div class="color-picker">
                                        <div class="preset-colors">
                                            <button type="button" class="color-btn" data-color="#000000" style="background: #000000" onclick="selectColor('#000000')"></button>
                                            <button type="button" class="color-btn" data-color="#FFFFFF" style="background: #FFFFFF; border: 1px solid #ddd" onclick="selectColor('#FFFFFF')"></button>
                                            <button type="button" class="color-btn" data-color="#808080" style="background: #808080" onclick="selectColor('#808080')"></button>
                                            <button type="button" class="color-btn" data-color="#FF0000" style="background: #FF0000" onclick="selectColor('#FF0000')"></button>
                                            <button type="button" class="color-btn" data-color="#0000FF" style="background: #0000FF" onclick="selectColor('#0000FF')"></button>
                                            <button type="button" class="color-btn" data-color="#FFFF00" style="background: #FFFF00" onclick="selectColor('#FFFF00')"></button>
                                        </div>
                                    </div>
                                    <input type="hidden" id="selectedColor" required>
                                </div>

                                <br><button type="button" class="btn-primary" style="width: 100%;" onclick="nextStep(2)">Continuer</button>
                            </div>

                            <div class="form-step" data-step="2">
                                <h2 class="form-step-title">Étape 2: Votre Design</h2>

                                <div class="form-group">
                                    <label for="designImage">Téléchargez votre design *</label>
                                    <div class="image-upload">
                                        <input type="file" id="designImage" accept="image/*" class="file-input" required>
                                        <label for="designImage" class="file-label">
                                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                                <polyline points="21 15 16 10 5 21"/>
                                            </svg>
                                            <span>Cliquez pour ajouter votre design</span>
                                            <span style="font-size: 0.75rem; color: var(--gray-400); margin-top: 0.5rem;">PNG, JPG, SVG recommandés</span>
                                        </label>
                                    </div>
                                    <div id="designImagePreview" class="image-preview"></div>
                                </div>

                                <div class="form-group">
                                    <label for="designDescription">Description de votre design *</label>
                                    <textarea id="designDescription" class="form-textarea" rows="4" required placeholder="Décrivez votre idée, l'emplacement souhaité du design, les couleurs, etc..."></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="designPosition">Position du design *</label>
                                    <select id="designPosition" class="form-input" required>
                                        <option value="">Sélectionnez une position</option>
                                        <option value="front-center">Devant - Centre</option>
                                        <option value="front-left">Devant - Gauche (poche)</option>
                                        <option value="back-center">Dos - Centre</option>
                                        <option value="back-top">Dos - Haut (nuque)</option>
                                        <option value="sleeve">Manche</option>
                                    </select>
                                </div>

                                <div class="form-actions">
                                    <button type="button" class="btn-secondary" onclick="prevStep(1)">Retour</button>
                                    <button type="button" class="btn-primary" onclick="nextStep(3)">Continuer</button>
                                </div>
                            </div>

                            <div class="form-step" data-step="3">
                                <h2 class="form-step-title">Étape 3: Vos Informations</h2>

                                <div class="form-group">
                                    <label for="customerName">Nom complet *</label>
                                    <input type="text" id="customerName" class="form-input" required placeholder="Jean Dupont">
                                </div>

                                <div class="form-group">
                                    <label for="customerEmail">Email *</label>
                                    <input type="email" id="customerEmail" class="form-input" required placeholder="votre@email.com">
                                </div>

                                <div class="form-group">
                                    <label for="customerPhone">Téléphone</label>
                                    <input type="tel" id="customerPhone" class="form-input" placeholder="+33 6 12 34 56 78">
                                </div>

                                <div class="alert-info">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <line x1="12" y1="16" x2="12" y2="12"/>
                                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                                    </svg>
                                    <div>
                                        <strong>Comment ça marche?</strong>
                                        <p>Après soumission, notre équipe examinera votre demande et définira le prix en fonction de la complexité. Vous recevrez un devis par email sous 24-48h.</p>
                                    </div>
                                </div>

                                <div class="form-actions">
                                    <button type="button" class="btn-secondary" onclick="prevStep(2)">Retour</button>
                                    <button type="submit" class="btn-primary" id="submitBtn">
                                        <span class="btn-text">Envoyer ma demande</span>
                                        <span class="btn-loading" style="display: none;">
                                            <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="32" stroke-linecap="round"/>
                                            </svg>
                                            Envoi...
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Added WebCraft footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo">QUARSOE</span>
                    <p>L'élégance redéfinie</p>
                </div>
                <div class="footer-links">
                    <a href="contact.html">Contact</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2026 QUARSOE. Tous droits réservés.</p>
                <p style="margin-top: 0.5rem; font-size: 0.875rem;">
                    Powered by <a href="https://webcraft-fr.vercel.app" target="_blank" rel="noopener noreferrer" style="color: #667eea; text-decoration: none; font-weight: 600;">WebCraft</a>
                </p>
            </div>
        </div>
    </footer>

    <div id="successModal" class="success-modal">
        <div class="success-content">
            <div class="success-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
            </div>
            <h2>Demande envoyée!</h2>
            <p>Votre demande de design personnalisé a été envoyée avec succès.</p>
            <p><strong id="confirmEmail"></strong></p>
            <p style="color: var(--gray-600); font-size: 0.875rem; margin-top: 1rem;">Vous recevrez un devis par email sous 24-48h.</p>
            <a href="index.html" class="btn-primary">Retour à la boutique</a>
        </div>
    </div>

    <script src="custom-design.js"></script>
</body>
</html>
